<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Simulador Externo Aura</title>
</head>
<body>
    <div id="lightning-container"></div>

    <script src="https://creative-otter-3dbvzj-dev-ed.trailblaze.my.site.com/portalaura/lightning/lightning.out.js"></script>

    <script>
        const siteUrl = 'https://creative-otter-3dbvzj-dev-ed.trailblaze.my.site.com/portalaura';
        const urlParams = new URLSearchParams(window.location.search);
        const tokenValue = urlParams.get('token');
        const emailValue = urlParams.get('email');
        
        $Lightning.use(
            "c:GuestOutApp", 
            function() {
                $Lightning.createComponent(
                    "c:contactUpdatePage", 
                    {
                        token: tokenValue,
                        email: emailValue
                    }, 
                    "lightning-container",
                    function(cmp) {
                        console.log("Componente criado com sucesso!");
                    }
                );
            },
            siteUrl
        );
    </script>
</body>
</html>
